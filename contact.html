<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Contact | Baker Tech Solutions</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700;900&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="styles.css" />

  <!-- Small page-only helpers (doesn't require editing your global CSS) -->
  <style>
    /* Honeypot should be invisible to humans but visible to bots */
    .honeypot {
      position: absolute !important;
      left: -9999px !important;
      width: 1px !important;
      height: 1px !important;
      overflow: hidden !important;
    }
    .sr-only {
      position: absolute !important;
      width: 1px !important;
      height: 1px !important;
      padding: 0 !important;
      margin: -1px !important;
      overflow: hidden !important;
      clip: rect(0,0,0,0) !important;
      white-space: nowrap !important;
      border: 0 !important;
    }
    .alert {
      border-radius: 14px;
      padding: 12px 14px;
      margin-top: 12px;
      line-height: 1.35;
      font-size: 0.95rem;
    }
    .alert.success { border: 1px solid rgba(16, 185, 129, 0.35); }
    .alert.error   { border: 1px solid rgba(239, 68, 68, 0.35); }
    .alert.info    { border: 1px solid rgba(59, 130, 246, 0.35); }
    .tiny {
      font-size: 0.85rem;
    }
    .field[aria-invalid="true"] {
      outline: 2px solid rgba(239, 68, 68, 0.55);
      outline-offset: 1px;
    }
  </style>
</head>

<body id="top">
  <div class="bg-grid" aria-hidden="true"></div>

  <header class="glass-nav">
    <div class="container nav-wrap">
      <a class="brand" href="index.html" aria-label="Baker Tech Solutions home">
        <span class="brand-mark" aria-hidden="true">◆</span>
        <span class="brand-text">Baker Tech Solutions</span>
      </a>

      <button class="nav-toggle" aria-label="Open menu" aria-expanded="false" aria-controls="site-nav">
        <span></span><span></span><span></span>
      </button>

      <nav id="site-nav" class="nav-links" data-nav>
        <a href="index.html">Home</a>
        <a href="services.html">Services</a>
        <a href="pricing.html">Pricing</a>
        <a href="community.html">Community</a>
        <a href="contact.html" class="nav-btn" aria-current="page">Contact</a>
      </nav>
    </div>
  </header>

  <main>
    <!-- HERO -->
    <section class="hero">
      <div class="container hero-grid">
        <div class="hero-copy">
          <p class="eyebrow">Contact</p>
          <h1>Let’s talk.</h1>
          <p class="subhead">
            Tell us what you’re trying to accomplish and we’ll respond with a clear plan and estimate.
            The more details you provide, the faster we can help.
          </p>

          <div class="hero-actions">
            <a class="btn primary" href="#form">Start a request</a>
            <a class="btn ghost" href="pricing.html">View Pricing</a>
          </div>

          <div class="trust-row" aria-label="Highlights">
            <div class="trust-pill">Quick response</div>
            <div class="trust-pill">Clear scope</div>
            <div class="trust-pill">No jargon</div>
            <div class="trust-pill">Security-first</div>
          </div>
        </div>

        <aside class="hero-card" aria-label="What to include">
          <h2>What to include</h2>
          <ul class="checklist">
            <li>Device type (PC / Mac / phone / network)</li>
            <li>What you want to happen (goal)</li>
            <li>Any error messages / screenshots</li>
            <li>Urgency + best time to reach you</li>
          </ul>
          <a class="mini-link" href="services.html">See services →</a>
        </aside>
      </div>
    </section>

    <!-- FORM -->
    <section class="section alt" id="form">
      <div class="container">
        <div class="section-head">
          <h2>Contact form</h2>

          <div class="alert info tiny" role="note" aria-label="Privacy note">
            <strong>Privacy tip:</strong> Don’t include passwords, recovery codes, or full card numbers.
            If we need sensitive info, we’ll request it securely.
          </div>
        </div>

        <div class="split">
          <!-- LEFT: FORM -->
          <article class="card">
            <h3>Send a request</h3>
            <p class="muted form-help">Fill this out and we’ll get back to you.</p>

            <!--
              BACKEND OPTIONS (choose one later by swapping action):
              1) Your own API endpoint (recommended):
                 action="https://YOUR_DOMAIN_HERE/api/contact"
              2) Form providers like Formspree/Netlify:
                 action="https://formspree.io/f/YOUR_FORM_ID"
                 (then remove the JS fetch if you want pure provider submit)
            -->
            <form
              id="contactForm"
              class="form"
              action="https://formspree.io/f/mzdaeybj"
              method="POST"
              novalidate
            >
              <!-- spam protection -->
              <input type="text" name="website" class="honeypot" tabindex="-1" autocomplete="off" aria-hidden="true">

              <!-- helpful metadata -->
              <input type="hidden" name="source" value="contact-page">
              <input type="hidden" name="page" value="/contact.html">
              <input type="hidden" name="submittedAt" id="submittedAt" value="">

              <div class="form-grid">
                <div class="form-field">
                  <label for="name">Full Name</label>
                  <input
                    id="name"
                    class="field"
                    type="text"
                    name="name"
                    required
                    autocomplete="name"
                    placeholder="John Doe"
                    minlength="2"
                  />
                  <span class="sr-only" id="nameHelp">Enter your first and last name.</span>
                </div>

                <div class="form-field">
                  <label for="email">Email Address</label>
                  <input
                    id="email"
                    class="field"
                    type="email"
                    name="email"
                    required
                    autocomplete="email"
                    placeholder="you@example.com"
                  />
                </div>

                <div class="form-field">
                  <label for="phone">Phone Number</label>
                  <input
                    id="phone"
                    class="field"
                    type="tel"
                    name="phone"
                    required
                    autocomplete="tel"
                    placeholder="(555) 555-5555"
                    inputmode="tel"
                    pattern="^[0-9+().\\s-]{7,}$"
                  />
                  <p class="muted tiny" style="margin-top:8px;">We only use this to contact you about your request.</p>
                </div>

                <div class="form-field">
                  <label for="preferred">Preferred Contact</label>
                  <select id="preferred" class="field" name="preferredContact" required>
                    <option value="" selected disabled>Choose one</option>
                    <option value="Email">Email</option>
                    <option value="Phone">Phone</option>
                    <option value="Text">Text</option>
                  </select>
                </div>

                <div class="form-field form-span">
                  <label for="category">Service Category</label>
                  <select id="category" class="field" name="category" required>
                    <option value="Hardware">Hardware</option>
                    <option value="Software">Software</option>
                    <option value="Networking">Networking</option>
                    <option value="Security">Security</option>
                    <option value="Programming">Programming</option>
                    <option value="Not sure" selected>Not sure</option>
                  </select>
                </div>

                <div class="form-field">
                  <label for="urgency">Urgency</label>
                  <select id="urgency" class="field" name="urgency" required>
                    <option value="" selected disabled>Select urgency</option>
                    <option value="Low">Low (this week is fine)</option>
                    <option value="Medium">Medium (next 48–72 hours)</option>
                    <option value="High">High (today / ASAP)</option>
                  </select>
                </div>

                <div class="form-field">
                  <label for="bestTime">Best Time to Reach You</label>
                  <select id="bestTime" class="field" name="bestTime" required>
                    <option value="" selected disabled>Select a window</option>
                    <option value="Morning">Morning</option>
                    <option value="Afternoon">Afternoon</option>
                    <option value="Evening">Evening</option>
                    <option value="Anytime">Anytime</option>
                  </select>
                </div>

                <div class="form-field form-span">
                  <label for="device">Device / Environment</label>
                  <input
                    id="device"
                    class="field"
                    type="text"
                    name="device"
                    placeholder="Example: Windows 11 PC, MacBook Pro, home Wi-Fi, pfSense, etc."
                    autocomplete="off"
                  />
                  <p class="muted tiny" style="margin-top:8px;">
                    Optional, but it helps us diagnose faster.
                  </p>
                </div>

                <div class="form-field form-span">
                  <label for="message">Brief Description</label>
                  <textarea
                    id="message"
                    class="field"
                    name="message"
                    rows="7"
                    placeholder="What’s going on? What’s your goal? Any error messages? What changed recently?"
                    required
                    minlength="10"
                  ></textarea>
                </div>

                <div class="form-field form-span">
                  <label class="muted tiny" style="display:block; margin-bottom:10px;">
                    <input type="checkbox" id="noSecrets" name="noSecrets" required>
                    I understand I should not include passwords or sensitive credentials.
                  </label>
                </div>

                <div class="form-field form-span">
                  <button id="submitBtn" type="submit" class="btn primary form-submit">
                    Send Request
                  </button>

                  <p class="form-note">
                    We typically respond within 24 hours. If this is urgent, include “High” urgency and a phone number.
                  </p>

                  <!-- Status messages -->
                  <div id="formStatus" class="alert info" role="status" aria-live="polite" style="display:none;"></div>

                  <!-- No-JS fallback note -->
                  <noscript>
                    <div class="alert info" role="note" style="margin-top:12px;">
                      JavaScript is disabled, so this will submit as a standard form POST.
                      If your back end expects JSON, enable JavaScript or adjust your server to accept form-encoded requests too.
                    </div>
                  </noscript>
                </div>
              </div>
            </form>

            <hr style="margin: 18px 0; opacity: 0.15;">

            <div class="muted tiny">
              <strong>Back-end template:</strong> Your API should accept either JSON (<code>application/json</code>)
              or form-encoded data, and return JSON like:
              <code>{"ok":true,"message":"Received"}</code>.
              If you want, I can generate the server code too (Node/Express, PHP, Python/Flask).
            </div>
          </article>

          <!-- RIGHT: OTHER CONTACT -->
          <aside class="image-card">
            <h3>Other ways to reach us</h3>
            <p class="muted contact-subhead">
              Add your real contact details here:
            </p>

            <ul class="checklist contact-list">
              <li>Email: <span class="muted">your-email@domain.com</span></li>
              <li>Phone: <span class="muted">(555) 555-5555</span></li>
              <li>Service area: <span class="muted">Your city / region</span></li>
              <li>Hours: <span class="muted">By appointment</span></li>
            </ul>

            <div class="cta-band cta-slim">
              <div>
                <h2 class="cta-title">Want a fast quote?</h2>
                <p class="cta-text">Include photos/screenshots and a short description of the issue.</p>
              </div>
            </div>

            <a class="mini-link" href="#top">Back to top ↑</a>
          </aside>
        </div>
      </div>
    </section>
  </main>

  <footer class="footer">
    <div class="container footer-grid">
      <div>
        <div class="footer-brand">Baker Tech Solutions</div>
        <p class="muted">Custom hardware • Secure systems • Automation</p>
      </div>
      <div class="footer-links">
        <a href="services.html">Services</a>
        <a href="pricing.html">Pricing</a>
        <a href="community.html">Community</a>
        <a href="contact.html">Contact</a>
      </div>
    </div>
    <div class="container footer-bottom">
      <p>© 2026 Baker Tech Solutions</p>
    </div>
  </footer>

  <script src="scripts.js"></script>

  <!-- Page-only form handler (front-end + back-end support template) -->
  <script>
    (function () {
      const form = document.getElementById("contactForm");
      if (!form) return;

      const statusEl = document.getElementById("formStatus");
      const submitBtn = document.getElementById("submitBtn");
      const submittedAt = document.getElementById("submittedAt");

      function showStatus(type, msg) {
        statusEl.className = "alert " + type;
        statusEl.textContent = msg;
        statusEl.style.display = "block";
      }

      function clearInvalid() {
        const fields = form.querySelectorAll(".field");
        fields.forEach(f => f.setAttribute("aria-invalid", "false"));
      }

      function markInvalid(el) {
        if (!el) return;
        el.setAttribute("aria-invalid", "true");
      }

      function getFormData() {
        // Collect fields consistently (also works if you later add fields)
        const fd = new FormData(form);
        const obj = {};
        for (const [k, v] of fd.entries()) {
          // ignore empty optional checkbox off values
          if (k === "website") continue; // honeypot handled separately
          obj[k] = typeof v === "string" ? v.trim() : v;
        }

        // Add some useful metadata
        obj.userAgent = navigator.userAgent;
        obj.referrer = document.referrer || "";
        obj.url = window.location.href;

        return obj;
      }

      function validate() {
        clearInvalid();
        statusEl.style.display = "none";

        // Honeypot check (bots fill it)
        const honeypot = form.querySelector('input[name="website"]');
        if (honeypot && honeypot.value.trim() !== "") {
          return { ok: false, silent: true };
        }

        // Native validity
        const requiredFields = [
          "name", "email", "phone", "preferredContact", "category", "urgency", "bestTime", "message"
        ];

        for (const name of requiredFields) {
          const el = form.elements[name];
          if (!el) continue;

          // For selects/textareas/inputs: use checkValidity
          if (!el.checkValidity()) {
            markInvalid(el);
            return { ok: false, field: el, message: el.validationMessage || "Please fill out this field." };
          }
        }

        // Extra phone sanity check (pattern already helps, but keep it strict-ish)
        const phone = (form.elements.phone?.value || "").trim();
        if (phone.length < 7) {
          const el = form.elements.phone;
          markInvalid(el);
          return { ok: false, field: el, message: "Please enter a valid phone number." };
        }

        // Must acknowledge no-secrets
        const noSecrets = form.elements.noSecrets;
        if (noSecrets && !noSecrets.checked) {
          markInvalid(noSecrets);
          return { ok: false, field: noSecrets, message: "Please confirm you won’t include passwords or sensitive info." };
        }

        return { ok: true };
      }

      form.addEventListener("submit", async function (e) {
        // If JS is enabled, we submit via fetch as JSON.
        // This gives nicer success/error UX and works well with a custom backend.
        e.preventDefault();

        // Timestamp
        if (submittedAt) submittedAt.value = new Date().toISOString();

        const v = validate();
        if (!v.ok) {
          if (!v.silent) showStatus("error", v.message || "Please fix the highlighted fields.");
          if (v.field && typeof v.field.focus === "function") v.field.focus();
          return;
        }

        const endpoint = form.getAttribute("action");
        if (!endpoint || endpoint.includes("YOUR_DOMAIN_HERE")) {
          showStatus(
            "error",
            "Backend endpoint not set yet. Update the form action to your real API URL (example: https://yourdomain.com/api/contact)."
          );
          return;
        }

        const payload = getFormData();

        // Button state
        const oldBtnText = submitBtn ? submitBtn.textContent : "";
        if (submitBtn) {
          submitBtn.disabled = true;
          submitBtn.textContent = "Sending...";
        }

        showStatus("info", "Sending your request…");

        try {
          const res = await fetch(endpoint, {
            method: "POST",
            headers: {
              "Content-Type": "application/json",
              "Accept": "application/json"
            },
            body: JSON.stringify(payload)
          });

          let data = null;
          const isJson = (res.headers.get("content-type") || "").includes("application/json");
          if (isJson) {
            data = await res.json().catch(() => null);
          } else {
            // If your backend returns plain text
            const text = await res.text().catch(() => "");
            data = text ? { message: text } : null;
          }

          if (!res.ok) {
            const msg = (data && (data.error || data.message)) || "Something went wrong. Please try again.";
            showStatus("error", msg);
            return;
          }

          showStatus(
            "success",
            (data && data.message) ? data.message : "Request sent! We’ll reach out soon."
          );

          form.reset();
          clearInvalid();

        } catch (err) {
          showStatus(
            "error",
            "Network error. Please try again, or contact us directly using the email/phone on this page."
          );
        } finally {
          if (submitBtn) {
            submitBtn.disabled = false;
            submitBtn.textContent = oldBtnText || "Send Request";
          }
        }
      });
    })();
  </script>
</body>
</html>
